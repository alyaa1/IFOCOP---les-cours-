<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>JavaScript & DOM : Techniques Avancées - Exercice 01</title>
    <script>
      /* Chaînage d'exécution */
      /*
      * En JavaScript, on peut, en utilisant certaines ASTUCES de programmation chaîner l'exécution de méthodes d'un objet. En d'autre termes, exécuter plusieurs méthodes d'un objet à la suite et en une seule ligne. Pour faire cela, on crée des méthodes qui retournent une référence à l'objet à partir duquel elles ont été exécutées.
      */

      //Énoncé
      /*
      1. Créez un objet en JSON qui contient 3 méthodes.
      */
      var monObjet = {
        methode1: function(){
          alert('ligne1'); return this;
        },
        methode2: function(){
          alert('ligne2'); return this;
        },
        methode3: function(){
          alert('ligne3'); return this;
        },
      };

      /*
      2. Comment obtient-on, dans une méthode, une référence à l'objet contenant la méthode ? Retournez cette référence à partir de chacune des méthodes.
      */
      monObjet.methode1();

      /*
      3. Exécutez les 3 méthodes sur UNE SEULE ligne.
      */
        monObjet.methode1().methode2().methode3()
      /*
      4. Créez une fonction usine qui retourne l'objet.
      */
      var maFonctionUsine = function(){

        var Constructeur2 = function(){
          this.methode4 = function(){
            alert('methode 4');
            return this
          };
        };


        var objetTemp = monObjet;
        Constructeur2.prototype = objetTemp;
        var newObjet = new Constructeur2();
        return newObjet;
      };

      /*
      5. Exécutez la fonction usine et les 3 méthodes sur UNE SEULE ligne.
      */
      var monObjet2 = maFonctionUsine().methode4().methode2().methode3().methode4();
      /*
      6. Renommez votre fonction usine avec le caractère $ et exécutez la fonction usine et les 3 méthodes sur une seule ligne.
      */
      var $ = maFonctionUsine;
      //
      $().methode1().methode2().methode3();
      //
      /*

      7. Vous venez de comprendre un mécanisme de base de la librairie jQuery !
      */
    </script>
  </head>
  <body>
    <h1>Titre principal</h1>
    <ul>
      <li>Premier point</li>
      <li>Deuxième point</li>
      <li>Troisième point</li>
    </ul>
    <div>
      <div>
        <h2><span>1</span>. Titre de la première section</h2>
        <p><span>1.1</span>. Premier paragraphe de la première section et un <a href="#">lien</a>.</p>
        <p><span>1.2</span>. Deuxième paragraphe de la deuxième section et un <a href="#">lien</a>.</p>
      </div>
      <div>
        <h2><span>2</span>. Titre de la deuxième section</h2>
        <p><span>2.1</span>. Premier paragraphe de la deuxième section et un <a href="#">lien</a>.</p>
        <p><span>2.2</span>. Deuxième paragraphe de la deuxième section et un <a href="#">lien</a>.</p>
      </div>
      <div>
        <h2><span>3</span>. Titre de la troisième section</h2>
        <p><span>3.1</span>. Premier paragraphe de la troisième section et un <a href="#">lien</a>.</p>
        <p><span>3.2</span>. Deuxième paragraphe de la troisième section et un <a href="#">lien</a>.</p>
      </div>
    </div>
  </body>
</html>
