<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>

    <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function(){
      var sun = new Image();
      var moon = new Image();
      var earth = new Image();
      function init() {
        sun.src = 'images/sun.png';
        moon.src = 'images/moon.png';
        earth.src = 'images/earth.png';
        window.requestAnimationFrame(draw);
      };

      function draw() {
        var ctx = document.getElementById('canvas').getContext('2d');

        ctx.globalCompositeOperation = 'destination-over';
        ctx.clearRect(0,0,300,300);

        ctx.fillStyle = 'rgba(0,0,0,0.5)';//colle une ombre Ã  la terre
        ctx.strokeStyle = 'rgba(0,153,255,0.4)';
        ctx.save();
        ctx.translate(150,150);

        //Earth
        var time = new Date();
        ctx.rotate( ((2*Math.PI)/60)*time.getSeconds() + ((2*Math.PI)/60000)*time.getMilliseconds() );
        ctx.translate(105,0);
        ctx.fillRect(0,-12,50,24); // Shadow
        ctx.drawImage(earth,-12,-12);


        ctx.restore();
        ctx.drawImage(sun,0,0)

        window.requestAnimationFrame(draw);


      }



  init();
    });

    </script>
  </head>

  <body>
    <canvas id="canvas" width="300" height="300"></canvas>
  </body>
</html>
